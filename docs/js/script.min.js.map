{"version":3,"file":"script.min.js","sources":["script.js"],"sourcesContent":["function init_menu() {\r\n  const $js_header_menu_toggle = $('.js_header_menu_toggle'),\r\n    $main_nav = $('.main-nav');\r\n\r\n  $js_header_menu_toggle.on('click', function () {\r\n    $('.bar').toggleClass('animate');\r\n    $main_nav.toggleClass('open');\r\n    $('.header, body').toggleClass('modal-open');\r\n    $(document).on('click', document_click_handler);\r\n  });\r\n\r\n  function document_click_handler(evt) {\r\n    if (\r\n      !$(evt.target).is('.main-nav') &&\r\n      !$(evt.target).closest('.js_header_menu_toggle').length &&\r\n      !$(evt.target).is('.js_header_menu_toggle')\r\n    ) {\r\n      $main_nav.removeClass('open');\r\n      $('.bar').removeClass('animate');\r\n      $('.header, body').removeClass('modal-open');\r\n      $(document).off('click', document_click_handler);\r\n    }\r\n  }\r\n}\r\n\r\nfunction init_carousel() {\r\n  $('.banner__slider').slick({\r\n    dots: true,\r\n    infinite: true,\r\n    arrows: false,\r\n  });\r\n  $('.rates__slider').slick({\r\n    dots: false,\r\n    infinite: true,\r\n    arrows: false,\r\n    speed: 500,\r\n    fade: true,\r\n    cssEase: 'linear',\r\n  });\r\n}\r\n\r\nfunction init_contact_form() {\r\n  const $callback_form = $('.callback__form');\r\n\r\n  $('input[name=\"phone\"]').on('keydown', function (evt) {\r\n    if ($(this).val() == '' && evt.originalEvent.key == '8') {\r\n      evt.preventDefault();\r\n\r\n      $(this).val('+7 ');\r\n    }\r\n\r\n    $(this).mask('+7 000 000-00-00');\r\n  });\r\n\r\n  $callback_form.on('submit', function (evt) {\r\n    evt.preventDefault();\r\n\r\n    $.ajax({\r\n      url: 'mail.php',\r\n      method: 'POST',\r\n      data: $callback_form.serialize(),\r\n      dataType: 'json',\r\n\r\n      beforeSend: function (data) {\r\n        $callback_form.find('button[type=\"submit\"]').attr('disabled', 'disabled'); // например, отключим кнопку, чтобы не жали по 100 раз\r\n      },\r\n      complete: function (data) {\r\n        // событие после любого исхода\r\n        $callback_form.find('button[type=\"submit\"]').prop('disabled', false); // в любом случае включим кнопку обратно\r\n        $('#modal-success').addClass('open');\r\n      },\r\n    });\r\n  });\r\n\r\n  $('.modal__close').on('click', function () {\r\n    $(this).closest('.modal').removeClass('open');\r\n  });\r\n}\r\n\r\n$(document).ready(function () {\r\n  init_menu();\r\n  init_carousel();\r\n  init_contact_form();\r\n});\r\n"],"names":["init_menu","$js_header_menu_toggle","$","$main_nav","document_click_handler","evt","target","is","closest","length","removeClass","document","off","on","toggleClass","init_carousel","slick","dots","infinite","arrows","speed","fade","cssEase","init_contact_form","$callback_form","this","val","originalEvent","key","preventDefault","mask","ajax","url","method","data","serialize","dataType","beforeSend","find","attr","complete","prop","addClass","ready"],"mappings":"AAAA,SAASA,YACP,MAAMC,EAAyBC,EAAE,0BAC/BC,EAAYD,EAAE,aAShB,SAASE,EAAuBC,GAE3BH,EAAEG,EAAIC,QAAQC,GAAG,cACjBL,EAAEG,EAAIC,QAAQE,QAAQ,0BAA0BC,QAChDP,EAAEG,EAAIC,QAAQC,GAAG,4BAElBJ,EAAUO,YAAY,QACtBR,EAAE,QAAQQ,YAAY,WACtBR,EAAE,iBAAiBQ,YAAY,cAC/BR,EAAES,UAAUC,IAAI,QAASR,IAhB7BH,EAAuBY,GAAG,QAAS,WACjCX,EAAE,QAAQY,YAAY,WACtBX,EAAUW,YAAY,QACtBZ,EAAE,iBAAiBY,YAAY,cAC/BZ,EAAES,UAAUE,GAAG,QAAST,KAiB5B,SAASW,gBACPb,EAAE,mBAAmBc,MAAM,CACzBC,MAAM,EACNC,UAAU,EACVC,QAAQ,IAEVjB,EAAE,kBAAkBc,MAAM,CACxBC,MAAM,EACNC,UAAU,EACVC,QAAQ,EACRC,MAAO,IACPC,MAAM,EACNC,QAAS,WAIb,SAASC,oBACP,MAAMC,EAAiBtB,EAAE,mBAEzBA,EAAE,uBAAuBW,GAAG,UAAW,SAAUR,GAC1B,IAAjBH,EAAEuB,MAAMC,OAAwC,KAAzBrB,EAAIsB,cAAcC,MAC3CvB,EAAIwB,iBAEJ3B,EAAEuB,MAAMC,IAAI,QAGdxB,EAAEuB,MAAMK,KAAK,sBAGfN,EAAeX,GAAG,SAAU,SAAUR,GACpCA,EAAIwB,iBAEJ3B,EAAE6B,KAAK,CACLC,IAAK,WACLC,OAAQ,OACRC,KAAMV,EAAeW,YACrBC,SAAU,OAEVC,WAAY,SAAUH,GACpBV,EAAec,KAAK,yBAAyBC,KAAK,WAAY,aAEhEC,SAAU,SAAUN,GAElBV,EAAec,KAAK,yBAAyBG,KAAK,YAAY,GAC9DvC,EAAE,kBAAkBwC,SAAS,aAKnCxC,EAAE,iBAAiBW,GAAG,QAAS,WAC7BX,EAAEuB,MAAMjB,QAAQ,UAAUE,YAAY,UAI1CR,EAAES,UAAUgC,MAAM,WAChB3C,YACAe,gBACAQ"}