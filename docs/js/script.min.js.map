{"version":3,"file":"script.min.js","sources":["script.js"],"sourcesContent":["function init_menu() {\r\n  const $js_header_menu_toggle = $('.js_header_menu_toggle'),\r\n    $main_nav = $('.main-nav');\r\n\r\n  $js_header_menu_toggle.on('click', function () {\r\n    $('.bar').toggleClass('animate');\r\n    $main_nav.toggleClass('open');\r\n    $('.header, body').toggleClass('modal-open');\r\n    $(document).on('click', document_click_handler);\r\n  });\r\n\r\n  function document_click_handler(evt) {\r\n    if (\r\n      !$(evt.target).is('.main-nav') &&\r\n      !$(evt.target).closest('.js_header_menu_toggle').length &&\r\n      !$(evt.target).is('.js_header_menu_toggle')\r\n    ) {\r\n      $main_nav.removeClass('open');\r\n      $('.bar').removeClass('animate');\r\n      $('.header, body').removeClass('modal-open');\r\n      $(document).off('click', document_click_handler);\r\n    }\r\n  }\r\n}\r\n\r\nfunction init_carousel() {\r\n  $('.banner__slider').slick({\r\n    dots: true,\r\n    infinite: true,\r\n    arrows: false,\r\n  });\r\n\r\n  /* ============= Rates Start ============ */\r\n\r\n  $('.rates__slider').slick({\r\n    dots: false,\r\n    infinite: true,\r\n    arrows: false,\r\n    speed: 500,\r\n    fade: true,\r\n    cssEase: 'linear',\r\n  });\r\n\r\n  $('.js_rates_btn').on('click', function (evt) {\r\n    evt.preventDefault();\r\n\r\n    const $btn = $(this),\r\n      to_item = $btn.data('item');\r\n\r\n    $('.rates__slider').slick('slickGoTo', to_item);\r\n    $('.js_rates_btn').removeClass('active');\r\n    $btn.addClass('active');\r\n  });\r\n\r\n  /* ============= Rates End ============ */\r\n\r\n  $('.cases__slider').slick({\r\n    dots: true,\r\n    infinite: true,\r\n    arrows: false,\r\n    speed: 500,\r\n    fade: true,\r\n    cssEase: 'linear',\r\n  });\r\n\r\n  if ($(window).width() > 560) {\r\n    $('.js_videos_list').slick({\r\n      dots: false,\r\n      infinite: true,\r\n      arrows: true,\r\n      prevArrow: $('.videos__nav--prev'),\r\n      nextArrow: $('.videos__nav--next'),\r\n      speed: 500,\r\n      fade: true,\r\n      cssEase: 'linear',\r\n    });\r\n  }\r\n\r\n  if ($(window).width() <= 560) {\r\n    $('.js_technologies_slider').slick({\r\n      dots: true,\r\n      infinite: true,\r\n      arrows: false,\r\n      slidesToShow: 1,\r\n      slidesToScroll: 1,\r\n      rows: 2,\r\n    });\r\n\r\n    $('.js_team_slider').slick({\r\n      dots: true,\r\n      infinite: true,\r\n      arrows: false,\r\n      slidesToShow: 1,\r\n      slidesToScroll: 1,\r\n      rows: 2,\r\n    });\r\n\r\n    $('.js_clients_slider').slick({\r\n      dots: true,\r\n      infinite: true,\r\n      arrows: false,\r\n      slidesToShow: 2,\r\n      slidesToScroll: 2,\r\n      rows: 3,\r\n    });\r\n\r\n    $('.js_testimonials_slider').slick({\r\n      dots: true,\r\n      infinite: true,\r\n      arrows: false,\r\n    });\r\n\r\n    $('.js_services_slider').slick({\r\n      dots: true,\r\n      infinite: true,\r\n      arrows: false,\r\n      rows: 6,\r\n    });\r\n  }\r\n}\r\n\r\nfunction init_contact_form() {\r\n  const $callback_form = $('.callback__form'),\r\n    $inputs = $callback_form.find('input'),\r\n    $file = $inputs.filter('[type=\"file\"]');\r\n\r\n  check_inputs();\r\n  update_file_name();\r\n\r\n  $callback_form.find('input[name=\"phone\"]').on('keydown', function (evt) {\r\n    if ($(this).val() == '' && evt.originalEvent.key == '8') {\r\n      evt.preventDefault();\r\n\r\n      $(this).val('+7 ');\r\n    }\r\n\r\n    $(this).mask('+7 (000) 000-00-00');\r\n  });\r\n\r\n  $('.js_callback_file').on('click', function () {\r\n    $inputs.filter('[type=\"file\"]').trigger('click');\r\n  });\r\n\r\n  $file.on('change', update_file_name);\r\n\r\n  $inputs.on('change input', check_inputs);\r\n\r\n  $callback_form.on('submit', function (evt) {\r\n    evt.preventDefault();\r\n\r\n    $.ajax({\r\n      url: 'mail.php',\r\n      method: 'POST',\r\n      data: $callback_form.serialize(),\r\n      dataType: 'json',\r\n\r\n      beforeSend: function (data) {\r\n        $callback_form.find('button[type=\"submit\"]').attr('disabled', 'disabled'); // например, отключим кнопку, чтобы не жали по 100 раз\r\n      },\r\n      complete: function (data) {\r\n        // событие после любого исхода\r\n        $callback_form.find('button[type=\"submit\"]').prop('disabled', false); // в любом случае включим кнопку обратно\r\n        $('#modal-success').addClass('open');\r\n      },\r\n    });\r\n  });\r\n\r\n  $('.modal__close').on('click', function () {\r\n    $(this).closest('.modal').removeClass('open');\r\n  });\r\n\r\n  function update_file_name() {\r\n    if ($file.val() == '' || $file[0].files[0].size > 10485760) {\r\n      $(this).val('');\r\n      $('.js_callback_file').text('Прикрепить файл');\r\n    } else {\r\n      $('.js_callback_file').text($file[0].files[0].name);\r\n    }\r\n  }\r\n\r\n  function check_inputs() {\r\n    const is_complete = $inputs.toArray().reduce((res, current) => res * ($(current).val() != ''), true);\r\n\r\n    if (is_complete) {\r\n      $('.callback__submit').attr('disabled', false);\r\n    } else {\r\n      $('.callback__submit').attr('disabled', 'disabled');\r\n    }\r\n  }\r\n}\r\n\r\n$(document).ready(function () {\r\n  init_menu();\r\n  init_carousel();\r\n  init_contact_form();\r\n});\r\n"],"names":["init_menu","$js_header_menu_toggle","$","$main_nav","document_click_handler","evt","target","is","closest","length","removeClass","document","off","on","toggleClass","init_carousel","slick","dots","infinite","arrows","speed","fade","cssEase","preventDefault","$btn","this","to_item","data","addClass","window","width","prevArrow","nextArrow","slidesToShow","slidesToScroll","rows","init_contact_form","$callback_form","$inputs","find","$file","filter","update_file_name","val","files","size","text","name","check_inputs","toArray","reduce","res","current","attr","originalEvent","key","mask","trigger","ajax","url","method","serialize","dataType","beforeSend","complete","prop","ready"],"mappings":"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"}